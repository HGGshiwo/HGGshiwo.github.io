(function(e){function t(t){for(var i,n,c=t[0],o=t[1],h=t[2],d=0,u=[];d<c.length;d++)n=c[d],Object.prototype.hasOwnProperty.call(a,n)&&a[n]&&u.push(a[n][0]),a[n]=0;for(i in o)Object.prototype.hasOwnProperty.call(o,i)&&(e[i]=o[i]);l&&l(t);while(u.length)u.shift()();return r.push.apply(r,h||[]),s()}function s(){for(var e,t=0;t<r.length;t++){for(var s=r[t],i=!0,c=1;c<s.length;c++){var o=s[c];0!==a[o]&&(i=!1)}i&&(r.splice(t--,1),e=n(n.s=s[0]))}return e}var i={},a={app:0},r=[];function n(t){if(i[t])return i[t].exports;var s=i[t]={i:t,l:!1,exports:{}};return e[t].call(s.exports,s,s.exports,n),s.l=!0,s.exports}n.m=e,n.c=i,n.d=function(e,t,s){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(n.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(s,i,function(t){return e[t]}.bind(null,i));return s},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],o=c.push.bind(c);c.push=t,c=c.slice();for(var h=0;h<c.length;h++)t(c[h]);var l=o;r.push([0,"chunk-vendors"]),s()})({0:function(e,t,s){e.exports=s("56d7")},"1ac7":function(e,t,s){},"56d7":function(e,t,s){"use strict";s.r(t);var i=s("7a23");function a(e,t,s,a,r,n){const c=Object(i["k"])("Main");return Object(i["i"])(),Object(i["c"])(c)}const r={class:"container"},n={class:"reg-container"},c=Object(i["f"])("div",{class:"outline"},"Rimulator",-1),o=Object(i["f"])("hr",null,null,-1),h={class:"reg-scroller"},l={class:"reg-table"},d={style:{width:"100%"},class:"reg-line"},u={class:"reg-name"},b={class:"reg-value"},g=Object(i["f"])("tr",{class:"hr"},null,-1),p={class:"code-container",style:{overflow:"hidden"}},f=Object(i["g"])('<table style="padding-left:20px;width:600px;"><tr class="title"><td style="width:150px;">机器码</td><td style="width:150px;">预处理</td><td style="width:150px;">Code</td></tr></table><hr>',2),C={class:"code-scroller"},v={class:"code-table"},j=["onClick","onContextmenu","onKeydown"],O={class:"code-linenumber"},k={class:"code-mc"},R={class:"code-pre"},y={class:"code-op"},m={key:0},M=Object(i["f"])("span",{class:"code-rs"},"--",-1),S=Object(i["f"])("span",{class:"code-rs"},"--",-1),x=Object(i["f"])("span",{class:"code-rs"},"--",-1),E=[M,S,x],I={key:1},w={key:0},L={class:"code-rs"},F={class:"code-rs"},A={class:"code-rs"},D={key:1},N={class:"code-rs"},T={class:"code-rs"},B={class:"code-rs"},H={key:2},P={class:"code-rs"},_={class:"code-rs"},V={key:3},J={class:"code-rs"},U={class:"code-rs"},q={key:4},z={class:"code-rs"},K={class:"code-rs"},W={key:5},$={class:"code-rs"},G={class:"code-rs"},Q={class:"code-rs"},X={key:6},Y={class:"code-rs"},Z={class:"code-rs"},ee={key:7},te={class:"code-rs"},se={class:"code-rs"},ie={key:8},ae={key:9},re={class:"code-rs"},ne={class:"code-rs"},ce={class:"code-rs"},oe={key:10},he={class:"code-rs"},le={class:"code-rs"},de={class:"code-rs"},ue={key:11},be=Object(i["f"])("span",{class:"code-rs"},"--",-1),ge=Object(i["f"])("span",{class:"code-rs"},"--",-1),pe=Object(i["f"])("span",{class:"code-rs"},"--",-1),fe=[be,ge,pe],Ce=["innerHTML","contenteditable","id","onInput"],ve=Object(i["f"])("tr",{class:"hr"},null,-1),je=["innerHTML","contenteditable"],Oe=Object(i["f"])("button",{class:"nice-button"},"中断",-1),ke=Object(i["f"])("button",{class:"nice-button"},"链接",-1),Re={class:"stack-container"},ye={style:{"margin-left":"15%","margin-bottom":"3%"}},me=Object(i["f"])("hr",null,null,-1),Me={key:0,class:"stack-switch"},Se={class:"stack-scroller"},xe={class:"stack-table"},Ee={class:"stack-address"},Ie={class:"stack-value"},we=Object(i["f"])("tr",{class:"hr"},null,-1),Le={key:1,class:"stack-switch"},Fe={class:"stack-scroller"},Ae={class:"stack-table"},De={class:"stack-address"},Ne={class:"stack-value"},Te=Object(i["f"])("tr",{class:"hr"},null,-1),Be={key:2,class:"stack-switch"},He={class:"stack-scroller"},Pe={class:"stack-table"},_e={class:"stack-address"},Ve={class:"stack-value"},Je=Object(i["f"])("tr",{class:"hr"},null,-1);function Ue(e,t,s,a,M,S){return Object(i["i"])(),Object(i["e"])("div",r,[Object(i["f"])("div",n,[c,o,Object(i["f"])("div",h,[Object(i["f"])("table",l,[(Object(i["i"])(!0),Object(i["e"])(i["a"],null,Object(i["j"])(this.Reg,(e,t)=>(Object(i["i"])(),Object(i["e"])("tbody",{key:t},[Object(i["f"])("tr",d,[Object(i["f"])("td",u,Object(i["l"])(e.name),1),Object(i["f"])("td",b,Object(i["l"])(this.CalcRadix(e.value,this.RegRadix)),1)]),g]))),128))])])]),Object(i["f"])("div",p,[f,Object(i["f"])("div",C,[Object(i["f"])("table",v,[(Object(i["i"])(!0),Object(i["e"])(i["a"],null,Object(i["j"])(this.Code,(e,t)=>(Object(i["i"])(),Object(i["e"])("tbody",{key:t,class:Object(i["h"])({"code-line":!0,"breakpoint-run":e.run&&e.breakpoint,run:e.run,breakpoint:e.breakpoint,active:e.active}),onClick:Object(i["n"])(e=>S.MoveFocus(t),["left"]),onContextmenu:Object(i["n"])(e=>S.ChangeBP(t),["right"]),onKeydown:[Object(i["m"])(e=>S.NewCode(t),["enter"]),Object(i["m"])(e=>S.Up(t),["up"]),Object(i["m"])(e=>S.Down(t),["down"]),Object(i["m"])(e=>S.Remove(t),["delete"])]},[Object(i["f"])("tr",null,[Object(i["f"])("td",O,Object(i["l"])(S.CalcLinenumber(t)),1),Object(i["f"])("td",k,Object(i["l"])(S.CalcRadix(e.mc,16)),1),Object(i["f"])("td",R,[Object(i["f"])("span",y,Object(i["l"])(e.op),1),"E"==e.tag?(Object(i["i"])(),Object(i["e"])("span",m,E)):Object(i["d"])("",!0),"E"!=e.tag?(Object(i["i"])(),Object(i["e"])("span",I,["r"==this.Inst[e.op].type?(Object(i["i"])(),Object(i["e"])("span",w,[Object(i["f"])("span",L,Object(i["l"])(this.Reg[e.rd].name),1),Object(i["f"])("span",F,Object(i["l"])(this.Reg[e.rs1].name),1),Object(i["f"])("span",A,Object(i["l"])(this.Reg[e.rs2].name),1)])):"i"==this.Inst[e.op].type?(Object(i["i"])(),Object(i["e"])("span",D,[Object(i["f"])("span",N,Object(i["l"])(this.Reg[e.rd].name),1),Object(i["f"])("span",T,Object(i["l"])(this.Reg[e.rs1].name),1),Object(i["f"])("span",B,Object(i["l"])(e.rs2),1)])):"jr"==this.Inst[e.op].type?(Object(i["i"])(),Object(i["e"])("span",H,[Object(i["f"])("span",P,Object(i["l"])(this.Reg[e.rd].name),1),Object(i["f"])("span",_,Object(i["l"])(e.rs2)+"("+Object(i["l"])(this.Reg[e.rs1].name)+")",1)])):"l"==this.Inst[e.op].type?(Object(i["i"])(),Object(i["e"])("span",V,[Object(i["f"])("span",J,Object(i["l"])(this.Reg[e.rd].name),1),Object(i["f"])("span",U,Object(i["l"])(e.rs2)+"("+Object(i["l"])(this.Reg[e.rs1].name)+")",1)])):"s"==this.Inst[e.op].type?(Object(i["i"])(),Object(i["e"])("span",q,[Object(i["f"])("span",z,Object(i["l"])(this.Reg[e.rs2].name),1),Object(i["f"])("span",K,Object(i["l"])(e.rd)+"("+Object(i["l"])(this.Reg[e.rs1].name)+")",1)])):"b"==this.Inst[e.op].type?(Object(i["i"])(),Object(i["e"])("span",W,[Object(i["f"])("span",$,Object(i["l"])(this.Reg[e.rs1].name),1),Object(i["f"])("span",G,Object(i["l"])(this.Reg[e.rs2].name),1),Object(i["f"])("span",Q,Object(i["l"])(e.rd),1)])):"j"==this.Inst[e.op].type?(Object(i["i"])(),Object(i["e"])("span",X,[Object(i["f"])("span",Y,Object(i["l"])(this.Reg[e.rd].name),1),Object(i["f"])("span",Z,Object(i["l"])(e.rs1),1)])):"u"==this.Inst[e.op].type?(Object(i["i"])(),Object(i["e"])("span",ee,[Object(i["f"])("span",te,Object(i["l"])(this.Reg[e.rd].name),1),Object(i["f"])("span",se,Object(i["l"])(e.rs1),1)])):"mret"==e.op?(Object(i["i"])(),Object(i["e"])("span",ie)):"sys"==this.Inst[e.op].type&&"i"!=e.op[e.op.length-1]?(Object(i["i"])(),Object(i["e"])("span",ae,[Object(i["f"])("span",re,Object(i["l"])(this.Reg[e.rd].name),1),Object(i["f"])("span",ne,Object(i["l"])(this.Reg[e.rs2].name),1),Object(i["f"])("span",ce,Object(i["l"])(this.Reg[e.rs1].name),1)])):"sys"==this.Inst[e.op].type?(Object(i["i"])(),Object(i["e"])("span",oe,[Object(i["f"])("span",he,Object(i["l"])(this.Reg[e.rd].name),1),Object(i["f"])("span",le,Object(i["l"])(this.Reg[e.rs2].name),1),Object(i["f"])("span",de,Object(i["l"])(e.rs1),1)])):"n"==this.Inst[e.op].type?(Object(i["i"])(),Object(i["e"])("span",ue,fe)):Object(i["d"])("",!0)])):Object(i["d"])("",!0)]),Object(i["f"])("td",{innerHTML:e.or,class:"code-or",contenteditable:e.active,id:t,onInput:e=>S.Compile(t)},null,40,Ce)]),ve],42,j))),128))])]),Object(i["f"])("div",{class:"code-out",innerHTML:S.Output,contenteditable:"edit"==this.ConsoleModel,onInput:t[0]||(t[0]=(...e)=>S.EditCode&&S.EditCode(...e))},null,40,je),Object(i["f"])("div",null,[Object(i["f"])("button",{class:"nice-button",onClick:t[1]||(t[1]=(...e)=>S.Reset&&S.Reset(...e))},"重置"),Object(i["f"])("button",{class:"nice-button",onClick:t[2]||(t[2]=(...e)=>S.Step&&S.Step(...e))},"单步"),Oe,Object(i["f"])("button",{class:Object(i["h"])(["nice-button",{"nice-button":!0,active:"machine"==this.ConsoleModel}]),onClick:t[3]||(t[3]=(...e)=>S.ShowMachine&&S.ShowMachine(...e))}," 译码 ",2),Object(i["f"])("button",{class:Object(i["h"])(["nice-button",{"nice-button":!0,active:"message"==this.ConsoleModel}]),onClick:t[4]||(t[4]=(...e)=>S.ShowMessage&&S.ShowMessage(...e))}," 消息 ",2),Object(i["f"])("button",{class:Object(i["h"])(["nice-button",{"nice-button":!0,active:"edit"==this.ConsoleModel}]),onClick:t[5]||(t[5]=(...e)=>S.Edit&&S.Edit(...e))}," 导入 ",2),ke])]),Object(i["f"])("div",Re,[Object(i["f"])("div",ye,[Object(i["f"])("button",{class:Object(i["h"])({"nice-button":!0,active:"text"==this.DataModel}),onClick:t[6]||(t[6]=e=>this.DataModel="text")},"text",2),Object(i["f"])("button",{class:Object(i["h"])({"nice-button":!0,active:"data"==this.DataModel}),onClick:t[7]||(t[7]=e=>this.DataModel="data")},"data",2),Object(i["f"])("button",{class:Object(i["h"])({"nice-button":!0,active:"stack"==this.DataModel}),onClick:t[8]||(t[8]=e=>this.DataModel="stack")},"stack",2)]),me,"stack"==this.DataModel?(Object(i["i"])(),Object(i["e"])("div",Me,[Object(i["f"])("div",Se,[Object(i["f"])("table",xe,[(Object(i["i"])(!0),Object(i["e"])(i["a"],null,Object(i["j"])(this.Stack,(e,t)=>(Object(i["i"])(),Object(i["e"])("tbody",{key:t,class:"stack-line"},[Object(i["f"])("tr",null,[Object(i["f"])("td",Ee,Object(i["l"])(this.CalcRadix(this.StackAddr(t),16)),1),Object(i["f"])("td",Ie,Object(i["l"])(this.CalcRadix(e,this.StackRadix)),1)]),we]))),128))])])])):Object(i["d"])("",!0),"data"==this.DataModel?(Object(i["i"])(),Object(i["e"])("div",Le,[Object(i["f"])("div",Fe,[Object(i["f"])("table",Ae,[(Object(i["i"])(!0),Object(i["e"])(i["a"],null,Object(i["j"])(this.Data,(e,t)=>(Object(i["i"])(),Object(i["e"])("tbody",{key:t,class:"stack-line"},[Object(i["f"])("tr",null,[Object(i["f"])("td",De,Object(i["l"])(this.CalcRadix(this.DataAddr(t),16)),1),Object(i["f"])("td",Ne,Object(i["l"])(this.CalcRadix(e,this.StackRadix)),1)]),Te]))),128))])])])):Object(i["d"])("",!0),"text"==this.DataModel?(Object(i["i"])(),Object(i["e"])("div",Be,[Object(i["f"])("div",He,[Object(i["f"])("table",Pe,[(Object(i["i"])(!0),Object(i["e"])(i["a"],null,Object(i["j"])(this.Code,(e,t)=>(Object(i["i"])(),Object(i["e"])("tbody",{key:t,class:"stack-line"},[Object(i["f"])("tr",null,[Object(i["f"])("td",_e,Object(i["l"])(this.CalcRadix(this.TextAddr(t),16)),1),Object(i["f"])("td",Ve,Object(i["l"])(this.CalcRadix(e.mc,this.StackRadix)),1)]),Je]))),128))])])])):Object(i["d"])("",!0)])])}var qe={updated:function(){this.$nextTick((function(){null!=this.Focus&&document.getElementById(String(this.Focus)).focus()}))},data:function(){return{pc:-1,Reg:[{name:"zero",value:0},{name:"ra",value:0},{name:"sp",value:3221225456},{name:"gp",value:0},{name:"tp",value:0},{name:"t0",value:0},{name:"t1",value:0},{name:"t2",value:0},{name:"s0",value:0},{name:"s1",value:0},{name:"a0",value:0},{name:"a1",value:0},{name:"a2",value:0},{name:"a3",value:0},{name:"a4",value:0},{name:"a5",value:0},{name:"a6",value:0},{name:"a7",value:0},{name:"s2",value:0},{name:"s3",value:0},{name:"s4",value:0},{name:"s5",value:0},{name:"s6",value:0},{name:"s7",value:0},{name:"s8",value:0},{name:"s9",value:0},{name:"s10",value:0},{name:"s11",value:0},{name:"t3",value:0},{name:"t4",value:0},{name:"t5",value:0},{name:"t6",value:0},{name:"mtvec",value:0},{name:"mepc",value:0},{name:"mcause",value:0},{name:"mie",value:0},{name:"mip",value:0},{name:"mtval",value:0},{name:"mscratch",value:0},{name:"mstatus",value:0}],Focus:null,Code:[{or:"addi x1,x1,4",op:"addi",rd:1,rs1:1,rs2:4,mc:4227219,active:!1,run:!1,breakpoint:!1,tag:"I",Message:"无错误"}],Inst:{lui:{op7:"0110111",type:"u"},auipc:{op7:"0010111",type:"u"},jal:{op7:"1101111",fun3:"000",type:"j"},jalr:{op7:"1100111",fun3:"000",type:"jr"},beq:{op7:"1100011",fun3:"000",type:"b"},bne:{op7:"1100011",fun3:"001",type:"b"},blt:{op7:"1100011",fun3:"100",type:"b"},bge:{op7:"1100011",fun3:"101",type:"b"},bltu:{op7:"1100011",fun3:"110",type:"b"},bgeu:{op7:"1100011",fun3:"111",type:"b"},lb:{op7:"0000011",fun3:"000",type:"l"},lh:{op7:"0000011",fun3:"001",type:"l"},lw:{op7:"0000011",fun3:"010",type:"l"},lbu:{op7:"0000011",fun3:"100",type:"l"},lhu:{op7:"0000011",fun3:"101",type:"l"},sb:{op7:"0100011",fun3:"000",type:"s"},sh:{op7:"0100011",fun3:"001",type:"s"},sw:{op7:"0100011",fun3:"010",type:"s"},addi:{op7:"0010011",fun3:"000",type:"i"},slti:{op7:"0010011",fun3:"010",type:"i"},sltiu:{op7:"0010011",fun3:"011",type:"i"},xori:{op7:"0010011",fun3:"100",type:"i"},ori:{op7:"0010011",fun3:"110",type:"i"},andi:{op7:"0010011",fun3:"111",type:"i"},slli:{op7:"0010011",fun7:"00000000",fun3:"001",type:"i"},srli:{op7:"0010011",fun7:"00000000",fun3:"101",type:"i"},srai:{op7:"0010011",fun7:"01000000",fun3:"101",type:"i"},add:{op7:"0110011",fun7:"00000000",fun3:"000",type:"r"},sub:{op7:"0110011",fun7:"01000000",fun3:"000",type:"r"},sll:{op7:"0110011",fun7:"00000000",fun3:"001",type:"r"},slt:{op7:"0110011",fun7:"01000000",fun3:"010",type:"r"},sltu:{op7:"0110011",fun7:"00000000",fun3:"011",type:"r"},xor:{op7:"0110011",fun7:"00000000",fun3:"100",type:"r"},srl:{op7:"0110011",fun7:"00000000",fun3:"100",type:"r"},sra:{op7:"0110011",fun7:"00000000",fun3:"101",type:"r"},or:{op7:"0110011",fun7:"01000000",fun3:"101",type:"r"},and:{op7:"0110011",fun7:"00000000",fun3:"110",type:"r"},fence:{op7:"0001111",type:"f"},"fence.i":{op7:"0001111",type:"f"},ecall:{op7:"1110011",type:"e"},ebreak:{op7:"1110011",type:"e"},csrrw:{op7:"1110011",fun3:"001",type:"sys"},csrrs:{op7:"1110011",fun3:"010",type:"sys"},csrrc:{op7:"1110011",fun3:"011",type:"sys"},csrrwi:{op7:"1110011",fun3:"101",type:"sys"},cssrrsi:{op7:"1110011",fun3:"110",type:"sys"},csrrci:{op7:"1110011",fun3:"111",type:"sys"},mret:{mc:"00110000001000000000000001110011",type:"sys"},"---":{type:"n"}},Label:{},Stack:[0,0,0],Data:[0,0,0],RegRadix:16,StackRadix:16,MCRadix:16,DataModel:"stack",ConsoleModel:"message"}},methods:{CalcLinenumber:function(e){var t=String(this.Code.length).length;return String(e).padStart(t,"0")},FreshAll:function(){for(var e=0;e<this.Code.length;e++)this.Compile(e)},Vaild:function(e){return RegExp(/\w/g).test(e)},EditCode:function(){if("edit"==this.ConsoleModel){var e=document.getElementsByClassName("code-out")[0].innerHTML;for(var t in e=e.replace(/&nbsp;/g," ").replace(/<div[^>]*>|"|<span[^>]*>|<\/span>/g," ").replace(/<\/div>/g,"<br>"),e=e.split("<br>"),e)e[t]=e[t].replace(/#.*/g,"");e=e.filter(this.Vaild),this.Code=[];for(t=0;t<e.length;t++)this.Code.push({or:e[t],op:"---",rd:0,rs1:0,rs2:0,mc:0,active:!1,run:!1,breakpoint:!1,tag:"I",Message:"无错误"});0==this.Code.length&&this.Code.splice(t,1,{or:"",op:"--",rd:0,rs1:0,rs2:0,mc:0,active:!1,run:!1,breakpoint:!1,tag:"E",Message:"空指令"})}},CalcRadix:function(e,t){if(16==t)return"-"==e?"------ ----":"0x"+("0000"+(e>>16&65535).toString(16)).slice(-4)+" "+("0000"+(65535&e).toString(16)).slice(-4)},Sext:function(e,t){var s=e;return e>>t-1&&(s=4294967295,s<<=t,s+=e),s},MoveFocus(e){null!=this.Focus&&(this.Code[this.Focus].active=!1,this.Code[this.Focus].or=document.getElementById(String(this.Focus)).innerHTML),null!=e&&(this.Code[e].active=!0),this.Focus=e},NewCode:function(e){var t=window.event;t.returnValue=!1;var s=window.getSelection().getRangeAt(0).endOffset,i=document.getElementById(String(this.Focus)).innerHTML,a=Object.keys(this.Label);if(0!=s||""==i){for(var r in this.Code.splice(e+1,0,{or:"",op:"---",rs1:0,rs2:0,rd:0,mc:0,active:!1,run:!1,breakpoint:!1,tag:"E",Message:"空指令"}),a)this.Label[a[r]]>e&&(this.Label[a[r]]+=1);this.MoveFocus(e+1)}else{for(var r in this.Code[e].active=!1,this.Code.splice(e,0,{or:"",op:"---",rs1:0,rs2:0,rd:0,mc:0,active:!1,run:!1,breakpoint:!1,tag:"E",Message:"空指令"}),document.getElementById(String(e)).innerHTML="",a)this.Label[a[r]]>=e&&(this.Label[a[r]]+=1);this.MoveFocus(e)}this.FreshAll()},Remove:function(e){var t=window.event;if(8!=t.keyCode){if(t.returnValue=!1,e>=1&&this.MoveFocus(e-1),-1!=Object.values(this.Label).indexOf(e)){var s=Object.keys(this.Label);for(var i in s)this.Label[s[i]]==e?delete this.Label[s[i]]:this.Label[key]>e&&(this.Label[key]-=1)}this.Code.length>1?this.Code.splice(e,1):this.Code.splice(e,1,{or:"",op:"--",rd:0,rs1:0,rs2:0,mc:0,active:!1,run:!1,breakpoint:!1,tag:"E",Message:"空指令"}),0==e&&(this.Focus=0,this.Code[0].active=!0),this.FreshAll()}},Up:function(e){e>=1&&this.MoveFocus((e-1)%this.Code.length),this.FreshAll()},Down:function(e){this.MoveFocus((e+1)%this.Code.length),this.FreshAll()},ChangeBP:function(e){this.Code[e].breakpoint=!this.Code[e].breakpoint},CheckReg:function(e){var t={x0:"zero",x1:"ra",x2:"sp",x3:"gp",x4:"tp",x5:"t0",x6:"t1",x7:"t2",x8:"s0",x9:"s1",x10:"a0",x11:"a1",x12:"a2",x13:"a3",x14:"a4",x15:"a5",x16:"a6",x17:"a7",x18:"s2",x19:"s3",x20:"s4",x21:"s5",x22:"s6",x23:"s7",x24:"s8",x25:"s9",x26:"s10",x27:"s11",x28:"t3",x29:"t4",x30:"t5",x31:"t6"},s=e.toLowerCase();return-1==Object.values(t).indexOf(s)&&-1==Object.keys(t).indexOf(s)?null:(-1==Object.values(t).indexOf(s)&&(s=t[s]),Object.values(t).indexOf(s))},CheckCsr:function(e){e=e.toLowerCase();var t=["mtvec","mepc","mcause","mie","mip","mtval","mscratch","mstatus"],s=t.indexOf(e);return-1==s?null:s},Compile:function(e){if(null==document.getElementById(String(e)))return!0;this.Code[e].Message="无错误",this.Code[e].tag="I",this.Code[e].mc=0,this.Code[e].op="---",this.Code[e].rs1=0,this.Code[e].rs2=0,this.Code[e].rd=0;var t=null,s=document.getElementById(String(e)).innerHTML;if(-1!=s.indexOf(":")){if(s=s.split(":"),s[0]=s[0].replace(/\s/g,""),s.length>2)return this.Code[e].Message="标签中含有非法字符: ':'",this.Code[e].tag="E",!1;if(-1!=Object.keys(this.Label).indexOf(s[0])&&this.Label[s[0]]!=e)return this.Code[e].Message="已存在的标签: "+s[0],this.Code[e].tag="E",!1;t=s[0],s=s[1]}if(s=s.split(/&nbsp|[^\w-]/).filter(Boolean),""==s)return this.Code[e].Message="空指令",this.Code[e].tag="E",!1;var i=s[0].toLowerCase();if(-1==Object.keys(this.Inst).indexOf(i))return this.Code[e].Message="不支持的指令"+s[0],this.Code[e].tag="E",!1;switch(this.Inst[i].type){case"r":if(4!=s.length)return this.Code[e].Message="R型指令参数个数为3, 当前参数个数"+String(s.length-1),this.Code[e].tag="E",!1;var a=this.CheckReg(s[1]);if(null==a)return this.Code[e].Message="不支持的寄存器名称: "+s[1],this.Code[e].tag="E",!1;var r=this.CheckReg(s[2]);if(null==r)return this.Code[e].Message="不支持的寄存器名称: "+s[2],this.Code[e].tag="E",!1;var n=this.CheckReg(s[3]);if(null==n)return this.Code[e].Message="不支持的寄存器名称: "+s[3],this.Code[e].tag="E",!1;for(var c=Array(32),o=0;o<7;o++)c[o]=this.Inst[i].fun7[o];for(o=0;o<5;o++)c[7+o]=("00000"+n.toString(2)).slice(-5)[o];for(o=0;o<5;o++)c[12+o]=("00000"+r.toString(2)).slice(-5)[o];for(o=0;o<3;o++)c[17+o]=this.Inst[i].fun3[o];for(o=0;o<5;o++)c[20+o]=("00000"+a.toString(2)).slice(-5)[o];for(o=0;o<7;o++)c[25+o]=this.Inst[i].op7[o];this.Code[e].mc=parseInt(c.join(""),2),this.Code[e].op=i,this.Code[e].rs1=r,this.Code[e].rs2=n,this.Code[e].rd=a;break;case"i":if(4!=s.length)return this.Code[e].Message="I型指令参数个数为3, 当前参数个数"+String(s.length-1),this.Code[e].tag="E",!1;a=this.CheckReg(s[1]);if(null==a)return this.Code[e].Message="不支持的寄存器名称: "+s[1],this.Code[e].tag="E",!1;r=this.CheckReg(s[2]);if(null==r)return this.Code[e].Message="不支持的寄存器名称: "+s[2],this.Code[e].tag="E",!1;var h=parseInt(s[3]);if(isNaN(h))return this.Code[e].Message="类型错误的立即数: "+s[3],this.Code[e].tag="E",!1;if(Math.abs(h)>2047||"s"==i[0]&&Math.abs(h)>15)return this.Code[e].Message="立即数越界,当前为: "+String(h),this.Code[e].tag="E",!1;for(c=Array(32),o=0;o<12;o++)c[o]=("000000000000"+h.toString(2)).slice(-12)[o];for(o=0;o<5;o++)c[12+o]=("00000"+r.toString(2)).slice(-5)[o];for(o=0;o<3;o++)c[17+o]=this.Inst[i].fun3[o];for(o=0;o<5;o++)c[20+o]=("00000"+a.toString(2)).slice(-5)[o];for(o=0;o<7;o++)c[25+o]=this.Inst[i].op7[o];this.Code[e].mc=parseInt(c.join(""),2),this.Code[e].op=i,this.Code[e].rs1=r,this.Code[e].rs2=h,this.Code[e].rd=a;break;case"l":if(4!=s.length)return this.Code[e].Message="L型指令参数个数为3, 当前参数个数"+String(s.length-1),this.Code[e].tag="E",!1;a=this.CheckReg(s[1]);if(null==a)return this.Code[e].Message="不支持的寄存器名称: "+s[1],this.Code[e].tag="E",!1;r=this.CheckReg(s[3]);if(null==r)return this.Code[e].Message="不支持的寄存器名称: "+s[3],this.Code[e].tag="E",!1;h=parseInt(s[2]);if(isNaN(h))return this.Code[e].Message="类型错误的立即数: "+s[2],this.Code[e].tag="E",!1;if(Math.abs(h)>2047)return this.Code[e].Message="立即数越界,当前为: "+String(h),this.Code[e].tag="E",!1;h&=4095;var l=this.Sext(h,12)+this.Reg[r].value;if(l>>>=2,l>65535)return this.Code[e].Message="不支持的堆地址: "+this.CalcRadix(l,16),this.Code[e].tag="E",!1;for(c=Array(32),o=0;o<12;o++)c[o]=("000000000000"+h.toString(2)).slice(-12)[o];for(o=0;o<5;o++)c[12+o]=("00000"+r.toString(2)).slice(-5)[o];for(o=0;o<3;o++)c[17+o]=this.Inst[i].fun3[o];for(o=0;o<5;o++)c[20+o]=("00000"+a.toString(2)).slice(-5)[o];for(o=0;o<7;o++)c[25+o]=this.Inst[i].op7[o];this.Code[e].mc=parseInt(c.join(""),2),this.Code[e].op=i,this.Code[e].rs1=r,this.Code[e].rs2=h,this.Code[e].rd=a;break;case"s":if(4!=s.length)return this.Code[e].Message="S型指令参数个数为3, 当前参数个数"+String(s.length-1),this.Code[e].tag="E",!1;n=this.CheckReg(s[1]);if(null==n)return this.Code[e].Message="不支持的寄存器名称: "+s[1],this.Code[e].tag="E",!1;r=this.CheckReg(s[3]);if(null==r)return this.Code[e].Message="不支持的寄存器名称: "+s[3],this.Code[e].tag="E",!1;h=parseInt(s[2]);if(isNaN(h))return this.Code[e].Message="类型错误的立即数: "+s[2],this.Code[e].tag="E",!1;if(Math.abs(h)>2047)return this.Code[e].Message="立即数越界,当前为: "+String(h),this.Code[e].tag="E",!1;h&=4095;l=this.Sext(h,7)+this.Reg[r].value;if(l>>>=2,l>65535)return this.Code[e].Message="不支持的堆地址: "+this.CalcRadix(l,16),this.Code[e].tag="E",!1;for(c=Array(32),o=0;o<7;o++)c[o]=("000000000000"+h.toString(2)).slice(-12)[o];for(o=0;o<5;o++)c[7+o]=("00000"+n.toString(2)).slice(-5)[o];for(o=0;o<5;o++)c[12+o]=("00000"+r.toString(2)).slice(-5)[o];for(o=0;o<3;o++)c[17+o]=this.Inst[i].fun3[o];for(o=0;o<5;o++)c[20+o]=("000000000000"+h.toString(2)).slice(-12)[7+o];for(o=0;o<7;o++)c[25+o]=this.Inst[i].op7[o];this.Code[e].mc=parseInt(c.join(""),2),this.Code[e].op=i,this.Code[e].rs1=r,this.Code[e].rs2=n,this.Code[e].rd=h;break;case"b":if(4!=s.length)return this.Code[e].Message="B型指令参数个数为3, 当前参数个数"+String(s.length-1),this.Code[e].tag="E",!1;n=this.CheckReg(s[1]);if(null==n)return this.Code[e].Message="不支持的寄存器名称: "+s[1],this.Code[e].tag="E",!1;r=this.CheckReg(s[2]);if(null==r)return this.Code[e].Message="不支持的寄存器名称: "+s[2],this.Code[e].tag="E",!1;if(-1==Object.keys(this.Label).indexOf(s[3]))return this.Code[e].Message="不匹配的标签: "+s[3],this.Code[e].tag="E",!1;var d=this.Label[s[3]];if(d-=e,d<<=2,Math.abs(d)>4095)return this.Code[e].Message="立即数越界,当前为: "+this.CalcRadix(d,16),this.Code[e].tag="E",!1;d>>>=0;var u=("0000000000000"+d.toString(2)).slice(-12);c=Array(32).fill("0");c[0]=u[0];for(o=0;o<6;o++)c[1+o]=u[2+o];for(o=0;o<5;o++)c[7+o]=("00000"+n.toString(2)).slice(-5)[o];for(o=0;o<5;o++)c[12+o]=("00000"+r.toString(2)).slice(-5)[o];for(o=0;o<3;o++)c[17+o]=this.Inst[i].fun3[o];for(o=0;o<4;o++)c[20+o]=u[8+o];c[24]=u[1];for(o=0;o<7;o++)c[25+o]=this.Inst[i].op7[o];this.Code[e].mc=parseInt(c.join(""),2),this.Code[e].op=i,this.Code[e].rs1=r,this.Code[e].rs2=n,this.Code[e].rd=d>>0;break;case"j":if(3!=s.length)return this.Code[e].Message="J型指令参数个数为2, 当前参数个数"+String(s.length-1),this.Code[e].tag="E",!1;a=this.CheckReg(s[1]);if(null==a)return this.Code[e].Message="不支持的寄存器名称: "+s[1],this.Code[e].tag="E",!1;if(-1==Object.keys(this.Label).indexOf(s[2]))return this.Code[e].Message="不匹配的标签: "+s[2],this.Code[e].tag="E",!1;d=this.Label[s[2]];if(d-=e,d<<=2,Math.abs(d)>524287)return this.Code[e].Message="立即数越界,当前为: "+this.CalcRadix(d,16),this.Code[e].tag="E",!1;d>>>=0;u=("000000000000000000000"+d.toString(2)).slice(-21),c=Array(32).fill("0");c[0]=u[0];for(o=0;o<10;o++)c[1+o]=u[10+o];c[11]=u[9];for(o=0;o<8;o++)c[12+o]=u[1+o];for(o=0;o<5;o++)c[20+o]=("00000"+a.toString(2)).slice(-5)[o];for(o=0;o<7;o++)c[25+o]=this.Inst[i].op7[o];this.Code[e].mc=parseInt(c.join(""),2),this.Code[e].op=i,this.Code[e].rd=a,this.Code[e].rs1=d>>0;break;case"jr":if(4!=s.length)return this.Code[e].Message="I型指令参数个数为3, 当前参数个数"+String(s.length-1),this.Code[e].tag="E",!1;a=this.CheckReg(s[1]);if(null==a)return this.Code[e].Message="不支持的寄存器名称: "+s[1],this.Code[e].tag="E",!1;r=this.CheckReg(s[3]);if(null==r)return this.Code[e].Message="不支持的寄存器名称: "+s[3],this.Code[e].tag="E",!1;h=parseInt(s[2]);if(isNaN(h))return this.Code[e].Message="类型错误的立即数: "+s[2],this.Code[e].tag="E",!1;if(Math.abs(h)>2047)return this.Code[e].Message="立即数越界,当前为: "+String(h),this.Code[e].tag="E",!1;for(c=Array(32),o=0;o<12;o++)c[o]=("000000000000"+h.toString(2)).slice(-12)[o];for(o=0;o<5;o++)c[12+o]=("00000"+r.toString(2)).slice(-5)[o];for(o=0;o<3;o++)c[17+o]=this.Inst[i].fun3[o];for(o=0;o<5;o++)c[20+o]=("00000"+a.toString(2)).slice(-5)[o];for(o=0;o<7;o++)c[25+o]=this.Inst[i].op7[o];this.Code[e].mc=parseInt(c.join(""),2),this.Code[e].op=i,this.Code[e].rs1=r,this.Code[e].rs2=h,this.Code[e].rd=a;break;case"u":if(3!=s.length)return this.Code[e].Message="U型指令参数个数为2, 当前参数个数"+String(s.length-1),this.Code[e].tag="E",!1;a=this.CheckReg(s[1]);if(null==a)return this.Code[e].Message="不支持的寄存器名称: "+s[1],this.Code[e].tag="E",!1;h=parseInt(s[2]);if(isNaN(h))return this.Code[e].Message="类型错误的立即数: "+s[2],this.Code[e].tag="E",!1;if(Math.abs(h)>524287)return this.Code[e].Message="立即数越界,当前为: "+String(h),this.Code[e].tag="E",!1;for(c=Array(32),o=0;o<20;o++)c[o]=("00000000000000000000"+h.toString(2)).slice(-20)[o];for(o=0;o<5;o++)c[20+o]=("00000"+a.toString(2)).slice(-5)[o];for(o=0;o<7;o++)c[25+o]=this.Inst[i].op7[o];this.Code[e].mc=parseInt(c.join(""),2),this.Code[e].op=i,this.Code[e].rs1=h,this.Code[e].rd=a;break;case"sys":if("mret"==i){for(c=Array(32),o=0;o<32;o++)c[o]=this.Inst["mret"].mc[o];return this.Code[e].mc=parseInt(c.join(""),2),this.Code[e].op=i,this.Code[e].rs1="",this.Code[e].rs2="",void(this.Code[e].rd="")}if(4!=s.length)return this.Code[e].Message="特权指令参数个数为3, 当前参数个数"+String(s.length-1),this.Code[e].tag="E",!1;a=this.CheckReg(s[1]);if(null==a)return this.Code[e].Message="不支持的寄存器名称: "+s[1],this.Code[e].tag="E",!1;var b=this.CheckCsr(s[2]);if(null==b)return this.Code[e].Message="不支持的特权寄存器名称: "+s[2],this.Code[e].tag="E",!1;if("i"!=i[i.length-1]){if(r=this.CheckReg(s[3]),null==r)return this.Code[e].Message="不支持的寄存器名称: "+s[3],this.Code[e].tag="E",!1}else{h=parseInt(s[3]);if(isNaN(h))return this.Code[e].Message="类型错误的立即数: "+s[3],this.Code[e].tag="E",!1;if(Math.abs(h)>2047)return this.Code[e].Message="立即数越界,当前为: "+String(h),this.Code[e].tag="E",!1;h&=4095,r=h}var g=["001100000101","001101000001","001101000010","001100000100","001101000100","001101000011","001100000100","300"];for(c=Array(32),o=0;o<12;o++)c[o]=g[b][o];for(o=0;o<5;o++)c[12+o]=("00000"+r.toString(2)).slice(-5)[o];for(o=0;o<3;o++)c[17+o]=this.Inst[i].fun3[o];for(o=0;o<5;o++)c[20+o]=("00000"+a.toString(2)).slice(-5)[o];for(o=0;o<7;o++)c[25+o]=this.Inst[i].op7[o];this.Code[e].mc=parseInt(c.join(""),2),this.Code[e].op=i,this.Code[e].rs1=r,this.Code[e].rs2=b+32,this.Code[e].rd=a;break}if(null!=t)if(-1==Object.keys(this.Label).indexOf(t))this.Label[t]=e;else{var p=Object.keys(this.Label);for(var o in p)if(this.Label[p[o]]==e){delete this.Label[p[o]],this.Label[t]=e;break}}},StackIndex:function(e){var t=3221225456-e;return t>>>=2,t},StackAddr:function(e){var t=e<<2;return t=3221225456-t,t},TextAddr:function(e){var t=e<<2;return t+=65536,t},DataAddr:function(e){var t=e<<2;return t+=this.TextAddr(this.Code.length),t},RunCode:function(e){var t=this.Code[e>>2];switch(this.Inst[t.op].type){case"r":if(!t.rd)break;switch(t.op){case"add":this.Reg[t.rd].value=this.Reg[t.rs1].value+this.Reg[t.rs2].value;break;case"sub":this.Reg[t.rd].value=this.Reg[t.rs1].value-this.Reg[t.rs2].value;break;case"sll":this.Reg[t.rd].value=this.Reg[t.rs1].value<<this.Reg[t.rs2].value;break;case"slt":this.Reg[t.rd].value=this.Reg[t.rs1].value<this.Reg[t.rs2].value?1:0;break;case"sltu":var s=this.Reg[t.rs1].value>>>0,i=this.Reg[t.rs2].value>>>0;this.Reg[t.rd].value=s<i?1:0;break;case"xor":this.Reg[t.rd].value=this.Reg[t.rs1].value^this.Reg[t.rs2].value;break;case"srl":this.Reg[t.rd].value=this.Reg[t.rs1].value>>>this.Reg[t.rs2].value;break;case"sra":this.Reg[t.rd].value=this.Reg[t.rs1].value>>this.Reg[t.rs2].value;break;case"or":this.Reg[t.rd].value=this.Reg[t.rs1].value|this.Reg[t.rs2].value;break;case"and":this.Reg[t.rd].value=this.Reg[t.rs1].value&this.Reg[t.rs2].value;break}break;case"i":if(!t.rd)break;var a=this.Sext(t.rs2,12);switch(t.op){case"addi":this.Reg[t.rd].value=this.Reg[t.rs1].value+a;break;case"slli":this.Reg[t.rd].value=this.Reg[t.rs1].value<<t.rs2;break;case"slti":this.Reg[t.rd].value=this.Reg[t.rs1].value<t.rs2?1:0;break;case"sltiu":s=this.Reg[t.rs1].value>>>0,i=t.rs2>>>0;this.Reg[t.rd].valuet1;break;case"xori":this.Reg[t.rd].value=this.Reg[t.rs1].value^a;break;case"srli":this.Reg[t.rd].value=this.Reg[t.rs1].value>>>t.rs2;break;case"srai":this.Reg[t.rd].value=this.Reg[t.rs1].value>>t.rs2;break;case"ori":this.Reg[t.rd].value=this.Reg[t.rs1].value|a;break;case"andi":this.Reg[t.rd].value=this.Reg[t.rs1].value&a;break}break;case"l":if(!t.rd)break;a=this.Sext(t.rs2,12);var r=this.Reg[t.rs1].value+a,n=this.StackIndex(r);if(n>65535)return this.Code[e>>2].tag="E",this.Code[e>>2].Message="不支持的地址: "+this.CalcRadix(r,16),!1;switch(this.Stack.length<n+1&&this.Stack.push.apply(this.Stack,Array(n+1-this.Stack.length).fill(0)),t.op){case"lb":for(var c=this.Stack[n].toString(16).split(""),o=["",""],h=0;h<2;h++)o[h]=c[r+h];o=parseInt(o.join(""),16),this.Reg[t.rd].value=this.Sext(o,8);break;case"lh":if(r%2!=0)break;for(c=this.Stack[n].toString(16).split(""),o=["","","",""],h=0;h<4;h++)o[h]=c[r+h];o=parseInt(o.join(""),16),this.Reg[t.rd].value=this.Sext(o,16);break;case"lw":if(r%4!=0)break;this.Reg[t.rd].value=this.Stack[n];break;case"lbu":for(c=this.Stack[n].toString(16).split(""),o=["",""],h=0;h<2;h++)o[h]=c[r+h];o=parseInt(o.join(""),16),this.Reg[rd].value=o;break;case"lhu":if(r%2!=0)break;for(c=this.Stack[n].toString(16).split(""),o=["","","",""],h=0;h<4;h++)o[h]=c[r+h];o=parseInt(o.join(""),16),this.Reg[rd].value=o;break}break;case"s":a=this.Sext(t.rd,12),r=this.Reg[t.rs1].value+a,n=this.StackIndex(r);if(n>65535)return this.Code[e>>2].tag="E",this.Code[e>>2].Message="不支持的地址: "+this.CalcRadix(r,16),!1;switch(this.Stack.length<n+1&&this.Stack.push.apply(this.Stack,Array(1+n-this.Stack.length).fill(0)),t.op){case"sb":for(c=("00"+(this.Reg[t.rs2].value>>>0).toString(16)).slice(-2).split(""),o=("00000000"+(this.Stack[n]>>>0).toString(16)).slice(-8).split(""),h=0;h<2;h++)o[r+h]=c[h];o=o.join(""),this.Stack[n]=parseInt(o,16);break;case"sh":c=("0000"+(this.Reg[t.rs2].value>>>0).toString(16)).slice(-4).split(""),o=("00000000"+(this.Stack[n]>>>0).toString(16)).slice(-8).split("");if(r%2!=0)break;for(h=0;h<4;h++)o[r+h]=c[h];o=o.join(""),this.Stack[n]=parseInt(o,16);break;case"sw":c=("00000000"+(this.Reg[t.rs2].value>>>0).toString(16)).slice(-8);if(r%4!=0)break;this.Stack[n]=parseInt(c,16);break}break;case"b":var l=e+t.rd;switch(t.op){case"beq":t.rs1==t.rs2&&(this.pc=l);break;case"bne":t.rs1!=t.rs2&&(this.pc=l);break;case"blt":t.rs1<t.rs2&&(this.pc=l);break;case"bge":t.rs1>=t.rs2&&(this.pc=l);break;case"bltu":t.rs1>>>0<t.rs2>>>0&&(this.pc=l);break;case"bgeu":t.rs1>>>0>=t.rs2>>>0&&(this.pc=l);break}break;case"j":this.Reg[t.rd].value=this.pc+4,this.pc+=t.rs1;break;case"jr":t.rd&&(this.Reg[t.rd].value=this.pc+4),this.pc=this.Reg[t.rs1].value+t.rs2,this.pc=this.pc>>1,this.pc=this.pc<<1;break;case"u":switch(t.op){case"lui":t.rd&&(this.Reg[t.rd].value=t.rs1<<12);break;case"auipc":t.rd&&(this.Reg[t.rd].value=this.pc+t.rs1<<12);break}break;case"sys":if(!t.rd)break;switch(t.op){case"csrrc":this.Reg[t.rd].value=this.Reg[t.rs2].value,this.Reg[t.rs2].value&=~this.Reg[this.rs1];break;case"csrrci":this.Reg[t.rd].value=this.Reg[t.rs2].value,this.Reg[t.rs2].value&=~this.rs1;break;case"csrrs":this.Reg[t.rd].value=this.Reg[t.rs2].value,this.Reg[t.rs2].value|=this.Reg[this.rs1];break;case"csrrsi":this.Reg[t.rd].value=this.Reg[t.rs2].value,this.Reg[t.rs2].value|=this.rs1;break;case"csrrw":this.Reg[t.rd].value=this.Reg[t.rs2].value,this.Reg[t.rs2].value=this.Reg[this.rs1];break;case"csrrwi":this.Reg[t.rd].value=this.Reg[t.rs2].value,this.Reg[t.rs2].value=this.rs1;break;case"mret":this.pc=this.Reg[33].value;break}break}return!0},Step:function(){for(var e in this.MoveFocus(null),this.Code)if("E"==this.Code[e].tag)return;if(-1==this.pc)return this.pc=0,void(this.Code[this.pc>>2].run=!0);var t=this.pc,s=this.Inst[this.Code[this.pc>>2].op].type,i=this.RunCode(t);if(!i)return this.Code[t>>2].run=!1,void(this.pc=-1);this.Code[t>>2].run=!1,"b"!=s&&"j"!=s&&"jr"!=s&&(this.pc+=4),this.pc>>2==this.Code.length?this.pc=-1:this.Code[this.pc>>2].run=!0},Run:function(){if(this.MoveFocus(null),"未发现错误;<br>"==this.Output){-1==this.pc&&(this.pc=0);var e=0;this.DoRun=!0;while(this.pc!=this.Code.length){if(e>4095)return this.Code[this.pc].Message="运行超时",this.Code[this.pc].tag="E",this.MoveFocus(this.pc),this.pc=-1,void(this.DoRun=!1);e+=1;var t=this.pc;this.Code[t].run=!0;var s=this.RunCode(this.pc);if(!s)return this.Code[t].run=!1,this.MoveFocus(this.pc),this.pc=-1,void(this.DoRun=!1);this.Code[t].run=!1,this.pc==t&&this.pc++}this.pc-=1,this.MoveFocus(this.pc),this.DoRun=!1}},Debug:function(){if(this.MoveFocus(null),"未发现错误;<br>"==this.Output){-1==this.pc&&(this.pc=0);while(this.pc!=this.Code.length){var e=this.pc;this.Code[e].run=!0;var t=this.RunCode(e);if(!t)return this.Code[e].run=!1,void(this.pc=-1);if(this.Code[e].run=!1,this.pc==e&&this.pc++,this.pc!=this.Code.length&&this.Code[this.pc].breakpoint)return void(this.Code[this.pc].run=!0)}this.pc=-1,this.MoveFocus(this.Code.length-1)}},Reset:function(){for(var e=0;e<this.Code.length;e++)this.Compile(e),this.Code[e].run=!1,this.Code[e].breakpoint=!1;this.pc=-1;for(var t=0;t<this.Reg.length;t++)switch(this.Reg[t].name){case"sp":this.Reg[t].value=4294967295;break;default:this.Reg[t].value=0;break}for(t=0;t<this.Stack.length;t++)this.Stack[t]=0;for(t=0;t<this.Data.length;t++)this.Data[t]=0},ShowMachine:function(){this.ConsoleModel="machine"},ShowMessage:function(){this.ConsoleModel="message"},Edit:function(){this.ConsoleModel="edit"},Exp:function(){}},computed:{Output:function(){var e="";switch(this.ConsoleModel){case"message":for(var t=0;t<this.Code.length;t++)switch(this.Code[t].tag){case"E":e+="行"+String(t)+"错误, "+this.Code[t].Message+";<br>";break;case"W":e+="行"+String(t)+"异常, "+this.Code[t].Message+";<br>"}0==e.length&&(e="未发现错误;<br>");break;case"machine":for(t=0;t<this.Code.length;t++)e+=this.CalcRadix(this.Code[t].mc,16)+"<br>";break;case"edit":for(t=0;t<this.Code.length;t++)e+=this.Code[t].or+"<br>"}return e}}};s("ce27");qe.render=Ue;var ze=qe,Ke={name:"App",components:{Main:ze}};s("b2e6");Ke.render=a;var We=Ke,$e=Object(i["b"])(We);$e.mount("#app")},aa67:function(e,t,s){},b2e6:function(e,t,s){"use strict";s("aa67")},ce27:function(e,t,s){"use strict";s("1ac7")}});
//# sourceMappingURL=app.6fbb69a4.js.map